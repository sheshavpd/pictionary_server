const nodemailer = require('nodemailer');
const registeredUsers = require('../models/users');
const sentUsers = ["the.dark.boffin@gmail.com","sheshavishnuprasad@gmail.com","bldharanaiah@gmail.com","sandeepyadav.dk@gmail.com","jcchandu703@gmail.com","ruchiramys@gmail.com","rajathbr.1324@gmail.com","radhahvlic@gmail.com","srikanthpradyumna14@gmail.com","chinmay.gowd@gmail.com","gururaj89994444@gmail.com","chethanshetty4@gmail.com","mohith.rmohith777@gmail.com","punithjayprakash75@gmail.com","chandana.mohan642@gmail.com","sonuvarghesehsn6@gmail.com","deepaharitsa88@gmail.com","akanksha.shetti.r@gmail.com","romanempire1846@gmail.com","prthvraj25@gmail.com","amulya.sudarshan28@gmail.com","sharonjan30@gmail.com","chalanabhat11@gmail.com","rizvia13@gmail.com","nishchitrao5@gmail.com","gowda.bhavya@gmail.com","vijethkashyap035@gmail.com","hitha0505@gmail.com","chiranthanchiru1997@gmail.com","sargurabhi1998@gmail.com","ybharath1997@gmail.com","vijayshankar14484@gmail.com","kailash4bhati@gmail.com","rathodbhaskar785@gmail.com","shashankshashi187@gmail.com","rhhimanshu@gmail.com","sunilkumarbm080@gmail.com","dhanushad316@gmail.com","harshithgowda255@gmail.com","bharat.kotha@gmail.com","sb.eranna@gmail.com","anushreesnaik@gmail.com","divyalchaitanya@gmail.com","ajithnexus@gmail.com","vamannaik65@gmail.com","parmarsampatsinh99@gmail.com","nandish291@gmail.com","mahendra.lnu@gmail.com","beenam1998@gmail.com","vikassuvarna1999@gmail.com","klshashi@rediffmail.com","indrajitmpatel@gmail.com","rajupolicepatil264@gmail.com","arunkmr0084@gmail.com","dhananjayahdec@gmail.com","mauryaroopali@gmail.com","shashushashank37@gmail.com","nidaafreen0802@gmail.com","arpithasmg2@gmail.com","vickyprincev28@gmail.com","darshandevang21@gmail.com","jayanthnv8@gmail.com","nuthanss1996@gmail.com","sm.manavi4@gmail.com","basavarajsharanya@gmail.com","annapoornayadav.dk@gmail.com","pawaramey87@gmail.com","prakash.ramachandra8@gmail.com","dpharshitha9@gmail.com","shankaras026@gmail.com","sharanakodakkallu@gmail.com","ang.ashok@gmail.com","lovelylikhi55@gmail.com","kruthikoolhs@gmail.com","sahanab142@gmail.com","sindhujamallappa@gmail.com","ranjinisx86@gmail.com","prajwalmanjunath2002@gmail.com","amareshadhikar@gmail.com","arun.bel@gmail.com","shwetha26396@gmail.com","sowmyakumaramangala@gmail.com","amulyasanand23@gmail.com","ashokkurukundi@gmail.com","h.m.yashasgowda@gmail.com","shilpac1597@gmail.com","arunnhsd@gmail.com","poornimamkudtarkar@gmail.com","sahilwall041@gmail.com","thazhathapalli.tp@gmail.com","aamodini.sj@gmail.com","sandhya.riyadh@gmail.com","miss.shastry@gmail.com","skc2341998@gmail.com","chinmay12dec@gmail.com","vinay13mce@gmail.com","jainbharatheshhv@gmail.com","madhu.hs23@gmail.com","tanmay38882@gmail.com","poojarynagesh@gmail.com","keertheesh.kk@gmail.com","shetsumith@gmail.com","ak.raghav.raaka@gmail.com","nshravan98@gmail.com","somusomanath619vvsp@gmail.com","minju.sarah@gmail.com","sumanaikb7094@gmail.com"];
const sentUsers1 = ["shivaram911@gmail.com","sheshaprofessional@gmail.com","sushmithagopal.817@gmail.com","aishwaryadindagur00@gmail.com","sanjaygs953@gmail.com","venugopalparvati@gmail.com","kshamadevi74@gmail.com","shridharyb90@gmail.com","prajwalav343@gmail.com","bindumkediga@gmail.com","geetu1537@gmail.com","mattaadithya029@gmail.com","neharao012@gmail.com","robyjamesy@gmail.com","surajrp23@gmail.com","eshwarisrinivas16@gmail.com","nsswathi98@gmail.com","sangeethmohanc007@gmail.com","sujeet.cse1@gmail.com","kothari743@gmail.com","ravikumarjce@gmail.com","rakshithaps2891@gmail.com","swaroopkammaje@gmail.com","laxmitelsang@gmail.com","mallappakonkal@gmail.com","nishchithamhsn@gmail.com","varsharaviprakasha@gmail.com","anilgr.agr@gmail.com","preetam.kum@gmail.com","shravannagni@gmail.com","ssacchu115@gmail.com","akashshettyak@gmail.com","bhavanagowda90@gmail.com","psrcta@gmail.com","subrahmanya.1si15ec104@gmail.com","prtkdht@gmail.com","deepannithapooran@gmail.com","556rmohan@gmail.com","yaminissv@gmail.com","ranjanikashyapr2001@gmail.com","vinutha.cs82@gmail.com","kiranmrgowda3@gmail.com","padmanabha605@gmail.com","4noreply20@gmail.com","rangnathjs@gmail.com","neelsnishchay125@gmail.com","bhoomikau123@gmail.com","rajibinoy2k@gmail.com","suhagkv@gmail.com","vinaysu12@gmail.com","aishu07ash95@gmail.com","veenaparu98@gmail.com","mahi.dv24@gmail.com","danndanny786@gmail.com","shubhashivanna95@gmail.com","kiranbr1808@gmail.com","thakini.niki@gmail.com","karthikmv26@gmail.com","sumukhhp@gmail.com","keerthan4497@gmail.com","chanduchandrashekar.r@gmail.com","poojamgpr@gmail.com","lohislohi006@gmail.com","rohithrajrohithr@gmail.com","panduips97@gmail.com","vineeth165champ@gmail.com","rakshitakallukamba@gmail.com","nithinmallya8@gmail.com","shashitherockzzz@gmail.com","moulya.mouli@gmail.com","mohammedmubarak.hsn@gmail.com","punithjey@gmail.com","kajolm567@gmail.com","udupaakshaykumar@gmail.com","nimramatte@gmail.com","gouthamtheerthala@gmail.com","rahul.tp.009@gmail.com","achalbasavanna@gmail.com","extra052014@gmail.com","kandarp.satuniya@gmail.com","ksbharath198@gmail.com","darshandachhu143@gmail.com","raykar.praveen@gmail.com","rakshasukumargowda@gmail.com","vinutha0731@gmail.com","b.singh10@gmail.com","yashwanthlgowda123@gmail.com","arungowdadm@gmail.com","hkfalguni05@gmail.com","me.gunjansinghal@gmail.com","jksandesh123@gmail.com","aakarshsak0208@gmail.com","anupsonofg@gmail.com","devikajswamy@gmail.com","raj.sourabh03@gmail.com","divyaravikumarr5@gmail.com","4360094k@gmail.com","roopashreedb.cta@gmail.com","laptopbackuphdd@gmail.com","ramyashreevdhanya@gmail.com","sanath.gshankar@gmail.com","ushatp200@gmail.com","dsarkar.ronnie@gmail.com","ramya1ananya@gmail.com","sapnaasangam@gmail.com","ralatheking@gmail.com","shreyaskrishna18@gmail.com","sangeethav336@gmail.com","hiteshkiran8@gmail.com","nischalchandcc@gmail.com","bhumikajainhb@gmail.com","mrzshazaib@gmail.com","iamlikhithakn@gmail.com","rakeshrocky264@gmail.com","kavyabgowda23@gmail.com","darshandarshugowda.03@gmail.com","samvala33@gmail.com","coolrahraj98@gmail.com","shraddhakn95@gmail.com","surajjr123@gmail.com","hmsupritha@gmail.com","shamvenki16@gmail.com","vinanthihy15@gmail.com","tejasgopal.96@gmail.com","deepti.p299@gmail.com","mahiway96@gmail.com","yogeshahl65@gmail.com","suhasgkumar1998@gmail.com","navya08@gmail.com","prince.k.m.005@gmail.com","laharireddy1996@gmail.com","ananya.kanasu@gmail.com","veenabs.bhat@gmail.com","rakshithkaran@gmail.com","maaz.rossi46@gmail.com","madhu.p.gowda15@gmail.com"];
const sentUsers2 = ["anbasti.ashish@gmail.com","rohitbb1997@gmail.com","akshubm3@gmail.com","bhavyashreehl96@gmail.com","rakeshkumarbr@gmail.com","adarshanabasti143@gmail.com","gradi1998@gmail.com","asharanig@gmail.com","pavitra5195@gmail.com","aliyasiddiqua96@gmail.com","anurag5495@gmail.com","khushbu.soni089@gmail.com","anup4bunny@gmail.com","tsdrives.blr1@gmail.com","pavithrac582@gmail.com","amanpreetka@gmail.com","shubhaps20@gmail.com","bhargav1512@gmail.com","yashaswini.br@gmail.com","16ppriya@gmail.com","vshroy.vr@gmail.com","sandhyasraikar@gmail.com","vinayrao88@gmail.com","sahanabr183@gmail.com","sonamnorzom037@gmail.com","dvcl1919@gmail.com","ullask4@gmail.com","sssanju30@gmail.com","ramanprashantsharma1999@gmail.com","vaniganeshm@gmail.com","nkta.1992@gmail.com","sreeramegowda1947@gmail.com","veerammayavagal@gmail.com","hrishikasuresh47@gmail.com","ramanprashantsharma@gmail.com","richie179179@gmail.com","arunkumar.n.r@gmail.com","ganeshas28@gmail.com","dvsh.chandra07@gmail.com","hussain00294@gmail.com","askattemane@gmail.com","kavya2kool@gmail.com","nithinchand1789@gmail.com","monisharavi2001@gmail.com","giriseena@gmail.com","gowdapreethi326@gmail.com","sowmyabkholla@gmail.com","priya.padma2004@gmail.com","m.prerana88@gmail.com","mnandakumar35@gmail.com","iamsunil3005@gmail.com","sravanthy98@gmail.com","gavendrabel123@gmail.com","nrohith33@gmail.com","poojapnaik018@gmail.com","prems1989@gmail.com","khushirameshbabu98@gmail.com","ranjithavl99@gmail.com","lavanyadm6@gmail.com","adarsh.vd.1997@gmail.com","rishabhst2007@gmail.com","spoorthikannur385@gmail.com","deepakarmacharya095@gmail.com","vckkollur@gmail.com","harshitha.jamadagni@gmail.com","jvbadiger2020@gmail.com","punithnethkal18@gmail.com","vinu22.achar@gmail.com","amruthabharadwaj123@gmail.com","sampadagowda18@gmail.com","monikakr097@gmail.com","ranjiniraj333@gmail.com","manupgowda2@gmail.com","arpithamallik1000@gmail.com","vrishalishetty0304@gmail.com","varuncm18@gmail.com","keerthinirvanigowda@gmail.com","apekshav96@gmail.com","navikiran099@gmail.com","nageshprasad59@gmail.com","harshajacharya@gmail.com","akhilhr1998@gmail.com","prithvib275@gmail.com","naganithya27@gmail.com","gidanayvak@gmail.com","prajwalraz99@gmail.com","manodnyamg@gmail.com","karimrk12@gmail.com","mahant.atom@gmail.com","vijayanandababu1616@gmail.com","knanudeep6@gmail.com","tpmini6@gmail.com","kavyaacharya775@gmail.com","preetham12.bm@gmail.com","ranjith.y.eee@gmail.com","sonal.16june@gmail.com","pritika1994kishor@gmail.com","smphsn18@gmail.com","poornima500@gmail.com","neeraj4321raj@gmail.com","francegrg@gmail.com","jainankithaa10@gmail.com","sharilyadavnik@gmail.com","vandanahs12@gmail.com","ishani.sharma08@gmail.com","kmshreyas@gmail.com","mamathanagesh89@gmail.com","ashwinisrikanth95@gmail.com","vsaitejatalluri21@gmail.com","puranik1411anoop@gmail.com","veeksharai02@gmail.com","veenavrai@gmail.com","raghunath.cet@gmail.com","praveenbs9922@gmail.com","singh.h10075@gmail.com","gkeerthanr@gmail.com","tejas97hs@gmail.com","manjaemail@gmail.com","keerthank1990@gmail.com","bhargavigowda1811@gmail.com","darshank3008@gmail.com","nehagopi66@gmail.com","mithundevang24@gmail.com","chinthanvgowda@gmail.com","chethu.k.1127@gmail.com","babuharekrishna331@gmail.com","zeeshanhussain534@gmail.com","muralisss542@gmail.com","meenagowdadn@gmail.com","rajshekarkannur@gmail.com","durgaprasadkar1998.dp@gmail.com","mail2antonyp@gmail.com","adeveloper79@gmail.com","rajshashankit@gmail.com","harrystarboy11@gmail.com","jnaneshgowda53@gmail.com","vinayvaralm@gmail.com","shylajakrishnappa@gmail.com","diraimobile13@gmail.com","rakshavatsa@gmail.com","cbbharath64@gmail.com","kotha.rajani@gmail.com","bvdjaya@gmail.com"];
const sentUsers3 = ["gshobha1310@gmail.com","jainchinu999@gmail.com","hemaganeshm400@gmail.com","sobifarook@gmail.com","harshaycharshu@gmail.com","jaindarshil793@gmail.com","mintujain17@gmail.com","charithashetty935@gmail.com","ksreshma12@gmail.com","gowdahruthik78@gmail.com","rameshvinod9591@gmail.com","ananyakraj65@gmail.com","chaarulathashetty99@gmail.com","adipratap123@gmail.com","vishakhraik27@gmail.com","chethanb24@gmail.com","kavitajain786786@gmail.com","priyanka.priya127@gmail.com","mujain80@gmail.com","putrajuks518@gmail.com","syamtsn@gmail.com","aamit125@gmail.com","spr284@gmail.com","vinny.ab28@gmail.com","shahzebq14@gmail.com","srusti.jeevangi@gmail.com","hatejaswini@gmail.com","spoorthimaug07@gmail.com","ganesh.rv89@gmail.com","gayathribs6122014@gmail.com","poojasekhar.1995@gmail.com","sakhreshruti9@gmail.com","sowjanyaav.sowju9@gmail.com","nihalsyed77@gmail.com","vinaycmvinu5@gmail.com","affansyed28@gmail.com","syedabdan447@gmail.com","kavyatongali18@gmail.com","vasudhaathani@gmail.com","anabastiaditya@gmail.com","hsyeda56@gmail.com","isamkushwaha@gmail.com","thebeautyofhassan@gmail.com","shashi25oct@gmail.com","rbeniwal1998@gmail.com","akshatha.rshet@gmail.com","anoopchoodamani21@gmail.com","anuja55.patil@gmail.com","kallaithigrimandara123@gmail.com","paone2810@gmail.com","tharunjn2001@gmail.com","varshaaa1@gmail.com","kevin.parker9889@gmail.com","nikita9889singh@gmail.com","starboylove69@gmail.com","ukspecial54@gmail.com","viveksonawane600@gmail.com","gawdvivek@gmail.com","chandrashekaryh289@gmail.com","dhaminigowda15@gmail.com","apoorvahc1996@gmail.com","ns.rakshith@gmail.com","krishnagm7@gmail.com","apoorvachipgi@gmail.com","deek.r046@gmail.com","mahimasharma1910@gmail.com","pranjalmypat@gmail.com","prapthi11@gmail.com","sairamsrinivas.v@gmail.com","knashwini440@gmail.com","sukrutha.prakash@gmail.com","abhilashbavi@gmail.com","chaitra.951998@gmail.com","akshathaganesh13@gmail.com","akshu.ganni@gmail.com","shreyasy12@gmail.com","ejazshaista0@gmail.com","vranisushma@gmail.com","mahajansourav123@gmail.com","nazma7251@gmail.com","amogh.mahimkar123@gmail.com","spandu982@gmail.com","akarshjain50@gmail.com","datlaramachandraraju@gmail.com","maddyrules.12@gmail.com","ruksanayousef98@gmail.com","samprithalokesh1569@gmail.com","akshayakkigowda15@gmail.com","prashanthahv18@gmail.com","hshakya1603@gmail.com","aarifmohd258@gmail.com","aishusathish99@gmail.com","apoorvaparameshwarappa@gmail.com"];
async function mailAll() {
    const transporter = nodemailer.createTransport({
        service: 'gmail',
        pool: true, // This is the field you need to add
        auth: {
            user: 'the.dark.boffin@gmail.com',
            pass: 'radharanaiah901'
        }
    });
    let cnt = 0;
    for(const user of registeredUsers) {
        console.log(++cnt);
        if(sentUsers.includes(user.email) || sentUsers1.includes(user.email) || sentUsers2.includes(user.email) || sentUsers3.includes(user.email))
            continue;
        const htmlBody = `<p>Hi <b>${user.name}</b>,</p>

<p>You're missed. Thought you would love to know that new words have been added to the Pictionary game.
Hop in, and try guessing them!<br/>Leave a review at the <a href="https://play.google.com/store/apps/details?id=com.quarantinegames.pictionary" style="text-decoration: none;">play store</a> if you're enjoying Pictionary!</p>


<p>
    Thanks,<br/>
    <b>Quarantine Games™.</b>
</p>
<p><a href="https://play.google.com/store/apps/details?id=com.quarantinegames.pictionary" style="text-decoration: none;">Download Pictionary</a></p>
<p style="font-size:11px">You're receiving this message because you signed up for the Pictionary game. Click <a href="#">here</a> to unsubscribe.</p>`;
        const mailOptions = {
            from: 'Quarantine Games™ <the.dark.boffin@gmail.com>', // sender address
            to: [ user.email ],
            subject: 'New words have been added to Pictionary!', // Subject line
            html: htmlBody
        };
        transporter.sendMail(mailOptions, function (err, info) {
            if(err) console.log(err);
            else console.log(info);
        });
        await new Promise(resolve => {
            setTimeout(resolve, 2000);
        })
    }

}

mailAll();
